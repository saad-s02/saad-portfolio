@import "tailwindcss";

@theme {
  /* Dark theme color palette */
  /* All text colors meet WCAG AA 4.5:1 contrast ratio on gray-950 background */

  /* Backgrounds */
  --color-gray-950: #0a0a0b; /* Main background */
  --color-gray-900: #18181b; /* Card background */
  --color-gray-800: #27272a; /* Elevated elements */
  --color-gray-700: #3f3f46; /* Borders */

  /* Text colors (WCAG AA compliant) */
  --color-gray-50: #fafafa;   /* 18.5:1 contrast - Primary text */
  --color-gray-100: #f4f4f5;  /* 17.1:1 contrast - Primary text */
  --color-gray-300: #d4d4d8;  /* 11.5:1 contrast - Body text */
  --color-gray-400: #a1a1aa;  /* 7.5:1 contrast - Secondary text */
  --color-gray-500: #71717a;  /* 4.9:1 contrast - Tertiary text */
  --color-gray-600: #52525b;  /* 3.8:1 contrast - Non-text only (fails 4.5:1) */
}

/* Enable dark mode with .dark class */
@custom-variant dark (&:where(.dark, .dark *));

/* Focus visible styles for keyboard navigation */
@layer base {
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-gray-400 ring-0;
  }
}

/* Smooth scroll behavior */
@layer base {
  html {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }
}

/* Refined typography */
@layer base {
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
}

/* Link hover transitions */
@layer components {
  a {
    @apply transition-colors duration-200;
  }
}

/*
 * DESIGN-06: Hover Effects Coverage
 * - Links: transition-colors (200ms) via @layer components
 * - Buttons/CTAs: bg color transitions (ContactCTA.tsx)
 * - Project cards: scale + lift + border color (ProjectCard.tsx)
 * - Navigation: text color transitions (Header.tsx)
 *
 * All interactive elements have visible, accessible hover states.
 */

/* Hero background gradient animation */
@layer components {
  .hero-gradient-1 {
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(
      ellipse at center,
      rgba(59, 130, 246, 0.15) 0%,
      rgba(59, 130, 246, 0.05) 30%,
      transparent 60%
    );
    animation: gradient-drift-1 12s ease-in-out infinite;
    filter: blur(40px);
  }

  .hero-gradient-2 {
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(
      ellipse at center,
      rgba(139, 92, 246, 0.12) 0%,
      rgba(139, 92, 246, 0.04) 30%,
      transparent 60%
    );
    animation: gradient-drift-2 15s ease-in-out infinite;
    filter: blur(40px);
  }

  @keyframes gradient-drift-1 {
    0%,
    100% {
      transform: translate(0%, 0%) rotate(0deg) scale(1);
    }
    33% {
      transform: translate(10%, 8%) rotate(5deg) scale(1.05);
    }
    66% {
      transform: translate(-8%, 12%) rotate(-3deg) scale(0.95);
    }
  }

  @keyframes gradient-drift-2 {
    0%,
    100% {
      transform: translate(0%, 0%) rotate(0deg) scale(1);
    }
    33% {
      transform: translate(-12%, 10%) rotate(-5deg) scale(1.08);
    }
    66% {
      transform: translate(8%, -8%) rotate(3deg) scale(0.92);
    }
  }

  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .hero-gradient-1,
    .hero-gradient-2 {
      animation: none;
    }
  }
}

/* Focus ring pulse animation for form inputs */
@layer components {
  .focus-ring-pulse {
    position: relative;
  }

  .focus-ring-pulse::after {
    content: "";
    position: absolute;
    inset: -2px;
    border-radius: 10px;
    opacity: 0;
    pointer-events: none;
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
  }

  .focus-ring-pulse:focus-within::after {
    animation: focus-pulse 0.4s ease-out;
  }

  @keyframes focus-pulse {
    0% {
      opacity: 1;
      box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
    }
    100% {
      opacity: 0;
      box-shadow: 0 0 0 8px rgba(59, 130, 246, 0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .focus-ring-pulse:focus-within::after {
      animation: none;
    }
  }
}

/* Link underline slide animation */
@layer components {
  .link-underline {
    position: relative;
  }

  .link-underline::after {
    content: "";
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: currentColor;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.2s ease-out;
  }

  .link-underline:hover::after {
    transform: scaleX(1);
  }

  .link-underline-active::after {
    transform: scaleX(1);
  }

  @media (prefers-reduced-motion: reduce) {
    .link-underline::after {
      transition: none;
    }
  }
}
