---
phase: 05-design-and-animations
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/animations/FadeIn.tsx
  - components/animations/SlideIn.tsx
  - components/animations/PageTransition.tsx
  - app/template.tsx
autonomous: true

must_haves:
  truths:
    - "Page navigation shows smooth fade-in transition"
    - "Users with prefers-reduced-motion see instant page loads (no animation)"
    - "Animation wrappers can be imported and used by server components"
  artifacts:
    - path: "components/animations/FadeIn.tsx"
      provides: "Scroll reveal wrapper with reduced motion support"
      min_lines: 30
      exports: ["FadeIn"]
    - path: "components/animations/SlideIn.tsx"
      provides: "Directional scroll reveal wrapper"
      min_lines: 35
      exports: ["SlideIn"]
    - path: "components/animations/PageTransition.tsx"
      provides: "Page-level fade transition wrapper"
      min_lines: 25
      exports: ["PageTransition"]
    - path: "app/template.tsx"
      provides: "Global page transition component"
      min_lines: 20
  key_links:
    - from: "app/template.tsx"
      to: "components/animations/PageTransition.tsx"
      via: "import and render"
      pattern: "import.*PageTransition.*from.*animations"
    - from: "components/animations/FadeIn.tsx"
      to: "framer-motion"
      via: "useReducedMotion hook"
      pattern: "useReducedMotion"
---

<objective>
Create reusable animation wrapper components that enable smooth scroll reveals, page transitions, and accessibility support across the portfolio.

Purpose: Establish animation infrastructure that server components can use without "use client" directive, with built-in prefers-reduced-motion support.

Output: Four animation components (FadeIn, SlideIn, PageTransition, template.tsx) ready for use across all pages.
</objective>

<execution_context>
@D:\Projects\saad-portfolio\.claude\get-shit-done\workflows\execute-plan.md
@D:\Projects\saad-portfolio\.claude\get-shit-done\templates\summary.md
</execution_context>

<context>
@D:\Projects\saad-portfolio\.planning\PROJECT.md
@D:\Projects\saad-portfolio\.planning\ROADMAP.md
@D:\Projects\saad-portfolio\.planning\STATE.md
@D:\Projects\saad-portfolio\.planning\phases\05-design-and-animations\05-RESEARCH.md
@D:\Projects\saad-portfolio\app\layout.tsx
@D:\Projects\saad-portfolio\components\projects\ProjectCard.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create FadeIn scroll reveal wrapper</name>
  <files>components/animations/FadeIn.tsx</files>
  <action>
Create FadeIn client component that wraps content with Framer Motion scroll reveal animation.

Implementation:
- "use client" directive (required for Framer Motion)
- Import motion, useReducedMotion from framer-motion
- Accept props: children (ReactNode), delay (number, default 0)
- Use useReducedMotion() hook to detect accessibility preference
- Return motion.div with:
  - initial: shouldReduceMotion ? {} : { opacity: 0, y: 20 }
  - whileInView: shouldReduceMotion ? {} : { opacity: 1, y: 0 }
  - viewport: { once: true, margin: "-100px" }
  - transition: { duration: 0.5, delay, ease: "easeOut" }
- Children rendered inside motion.div

Why this approach:
- useReducedMotion respects prefers-reduced-motion media query (WCAG 2.1)
- Conditional animation state prevents motion for users who disabled it
- viewport.once prevents re-animation on scroll up (better performance)
- margin: "-100px" triggers animation before element enters viewport (feels faster)
- Server components can import and use this without "use client"

Pattern reference: ProjectCard.tsx already demonstrates this pattern (lines 21-26).
  </action>
  <verify>
npm run typecheck passes
npm run lint passes
FadeIn component exports successfully
  </verify>
  <done>
FadeIn.tsx exists with useReducedMotion support, ready to wrap server component content for scroll reveals.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create SlideIn directional scroll reveal wrapper</name>
  <files>components/animations/SlideIn.tsx</files>
  <action>
Create SlideIn client component that animates content from a specified direction on scroll.

Implementation:
- "use client" directive
- Import motion, useReducedMotion from framer-motion
- Accept props: children (ReactNode), direction ("left" | "right" | "up" | "down", default "up"), delay (number, default 0)
- Use useReducedMotion() hook
- Calculate initial position based on direction:
  - "left": { opacity: 0, x: -30 }
  - "right": { opacity: 0, x: 30 }
  - "up": { opacity: 0, y: 20 }
  - "down": { opacity: 0, y: -20 }
- Return motion.div with:
  - initial: shouldReduceMotion ? {} : calculatedInitial
  - whileInView: shouldReduceMotion ? {} : { opacity: 1, x: 0, y: 0 }
  - viewport: { once: true, margin: "-100px" }
  - transition: { duration: 0.5, delay, ease: "easeOut" }

Why directional animation:
- Adds variety to page animations (not everything fades from same direction)
- Useful for About page strengths grid (stagger from left)
- Stack page components can slide in from their architectural position

Avoid: Large x/y values (>50px) cause janky animation on mobile.
  </action>
  <verify>
npm run typecheck passes
SlideIn component accepts direction prop correctly
  </verify>
  <done>
SlideIn.tsx exists with 4-direction support and reduced motion handling.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create PageTransition wrapper and app/template.tsx</name>
  <files>
    components/animations/PageTransition.tsx
    app/template.tsx
  </files>
  <action>
Create PageTransition component and wire it to app/template.tsx for smooth page navigation.

PageTransition.tsx implementation:
- "use client" directive
- Import motion, useReducedMotion from framer-motion
- Accept children (ReactNode)
- Return motion.div with:
  - initial: shouldReduceMotion ? {} : { opacity: 0, y: 10 }
  - animate: shouldReduceMotion ? {} : { opacity: 1, y: 0 }
  - transition: { duration: 0.3, ease: "easeOut" }
- Note: Uses animate (not whileInView) because this is for route changes, not scroll

app/template.tsx implementation:
- "use client" directive (template.tsx can be client component)
- Import PageTransition from @/components/animations/PageTransition
- Default export function Template({ children })
- Return &lt;PageTransition&gt;{children}&lt;/PageTransition&gt;

Critical: Use template.tsx NOT layout.tsx:
- template.tsx creates new instance on navigation (enables animation)
- layout.tsx persists across routes (breaks animation lifecycle)
- Research file (lines 123-150) documents this pattern

Why short duration (0.3s):
- Page transitions should be fast, not cinematic
- Longer = feels sluggish on frequent navigation
- y: 10 is subtle (not distracting)

Avoid: exit animations in App Router - complex FrozenRouter pattern needed (research lines 255-291). Entry animation only is simpler and sufficient.
  </action>
  <verify>
npm run typecheck passes
npm run dev and navigate between pages - should see smooth fade-in
Open Chrome DevTools, throttle to "Slow 3G", navigate - animation should still feel fast
  </verify>
  <done>
PageTransition.tsx and app/template.tsx exist, all page navigations show 300ms fade-in animation that respects reduced motion.
  </done>
</task>

</tasks>

<verification>
1. Run typecheck: `npm run typecheck` - all animation components pass
2. Run lint: `npm run lint` - no errors
3. Test reduced motion: Enable "Reduce motion" in OS settings, reload dev server, verify no animations play
4. Test page transitions: Navigate between Home → About → Projects → Stack, verify smooth fade-in on each route
5. Component exports: Verify FadeIn and SlideIn can be imported by server components (no "use client" errors during import)
</verification>

<success_criteria>
- [ ] FadeIn.tsx created with scroll reveal and reduced motion support
- [ ] SlideIn.tsx created with 4-direction options and reduced motion support
- [ ] PageTransition.tsx created for route-level animations
- [ ] app/template.tsx created, wired to PageTransition component
- [ ] All page navigations show smooth 300ms fade-in (when reduced motion is off)
- [ ] Users with prefers-reduced-motion enabled see no animations
- [ ] TypeScript compilation succeeds with no errors
- [ ] Linting passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-design-and-animations/05-01-SUMMARY.md`
</output>
