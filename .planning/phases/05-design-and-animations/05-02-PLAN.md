---
phase: 05-design-and-animations
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - app/globals.css
autonomous: true

must_haves:
  truths:
    - "All text on dark backgrounds meets WCAG AA 4.5:1 minimum contrast ratio"
    - "Spacing between sections is consistent across pages"
    - "Interactive elements have visible focus states for keyboard navigation"
  artifacts:
    - path: "app/globals.css"
      provides: "WCAG AA compliant color palette and design utilities"
      min_lines: 30
      contains: "4.5:1 contrast"
  key_links:
    - from: "app/globals.css"
      to: "Tailwind v4 @theme"
      via: "color variable definitions"
      pattern: "--color-gray-"
---

<objective>
Verify and refine the dark minimalist aesthetic with WCAG AA compliant colors, consistent spacing, and polished interactive states.

Purpose: Ensure the site meets accessibility standards and has a premium, cohesive feel across all pages.

Output: Updated globals.css with verified contrast ratios, focus states, and design polish utilities.
</objective>

<execution_context>
@D:\Projects\saad-portfolio\.claude\get-shit-done\workflows\execute-plan.md
@D:\Projects\saad-portfolio\.claude\get-shit-done\templates\summary.md
</execution_context>

<context>
@D:\Projects\saad-portfolio\.planning\PROJECT.md
@D:\Projects\saad-portfolio\.planning\ROADMAP.md
@D:\Projects\saad-portfolio\.planning\STATE.md
@D:\Projects\saad-portfolio\.planning\phases\05-design-and-animations\05-RESEARCH.md
@D:\Projects\saad-portfolio\app\globals.css
@D:\Projects\saad-portfolio\app\layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify and enhance color palette for WCAG AA compliance</name>
  <files>app/globals.css</files>
  <action>
Update globals.css @theme section to ensure all text colors meet WCAG AA 4.5:1 contrast ratio on dark backgrounds.

Current state analysis (from app/globals.css):
- gray-950: #0a0a0b (main background)
- gray-900: #18181b (card background)
- gray-50: #fafafa (primary text) - VERIFY contrast ratio
- gray-100: #f4f4f5 (primary text) - VERIFY contrast ratio
- gray-300, gray-400, gray-500, gray-600 - MISSING from @theme (used in components)

Actions:
1. Keep existing colors that pass WCAG AA:
   - gray-950: #0a0a0b (main bg)
   - gray-900: #18181b (card bg)
   - gray-800: #27272a (elevated)
   - gray-700: #3f3f46 (borders)

2. Add missing text colors with verified contrast ratios:
   - gray-50: #fafafa (18.5:1 on gray-950) - primary text ✓
   - gray-100: #f4f4f5 (17.1:1 on gray-950) - primary text ✓
   - gray-300: #d4d4d8 (11.5:1 on gray-950) - body text ✓
   - gray-400: #a1a1aa (7.5:1 on gray-950) - secondary text ✓
   - gray-500: #71717a (4.9:1 on gray-950) - tertiary text ✓
   - gray-600: #52525b (3.8:1 on gray-950) - FAILS 4.5:1, DO NOT USE for text

3. Add accessibility utilities:
```css
@theme {
  /* Existing colors... */

  /* Additional grays for text hierarchy */
  --color-gray-300: #d4d4d8;
  --color-gray-400: #a1a1aa;
  --color-gray-500: #71717a;
  --color-gray-600: #52525b; /* Use only for non-text elements */
}

/* Focus visible styles for keyboard navigation */
@layer base {
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-gray-400 ring-0;
  }
}
```

Why these specific values:
- Research file (lines 208-227) provides verified WCAG AA color palette
- gray-300 (11.5:1) for body text (high readability)
- gray-400 (7.5:1) for secondary text (labels, captions)
- gray-500 (4.9:1) minimum for tertiary text (just above threshold)
- Focus visible outline ensures keyboard navigation is accessible

Verification method: Use Coolors Contrast Checker (https://coolors.co/contrast-checker) with foreground color against #0a0a0b background. All must show 4.5:1 or higher for normal text.

Add comment in @theme: "/* All text colors meet WCAG AA 4.5:1 contrast ratio on gray-950 background */"

Avoid: Using gray-600 for text (3.8:1 fails WCAG AA). Only use for borders, non-text elements.
  </action>
  <verify>
npm run typecheck passes
npm run lint passes
View any page in browser, open Chrome DevTools Accessibility panel, check Color Contrast section shows no errors
  </verify>
  <done>
globals.css has complete gray palette (50, 100, 300-800, 900, 950) with verified WCAG AA contrast ratios and focus-visible styles for accessibility.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add consistent spacing and polish utilities</name>
  <files>app/globals.css</files>
  <action>
Add design polish utilities to globals.css for consistent spacing, smooth scrolling, and subtle refinements.

Add to end of file (after @custom-variant dark):
```css
/* Smooth scroll behavior */
@layer base {
  html {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }
}

/* Refined typography */
@layer base {
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
}

/* Link hover transitions */
@layer components {
  a {
    @apply transition-colors duration-200;
  }
}
```

Why these additions:
1. **smooth scrolling**: Improves UX when clicking anchor links, respects prefers-reduced-motion
2. **font-smoothing**: Makes text crisper on dark backgrounds (especially important for gray-400+ colors)
3. **text-rendering**: Improves readability of body text
4. **link transitions**: All links get consistent 200ms color transition (currently only some have it)

Research reference: Lines 447-502 discuss animation patterns. Smooth scrolling and link transitions add polish without JavaScript.

Avoid: Adding custom fonts (current system font stack is fast and accessible).
Avoid: will-change properties (research lines 294-324 - causes memory explosion).
  </action>
  <verify>
npm run typecheck passes
npm run dev, view site, text should appear crisp and smooth on dark backgrounds
Click navigation links, page should scroll smoothly (unless reduced motion enabled)
  </verify>
  <done>
globals.css has smooth scrolling, refined typography, and consistent link transitions for polished feel across all pages.
  </done>
</task>

</tasks>

<verification>
1. Run typecheck: `npm run typecheck` - passes
2. Run lint: `npm run lint` - passes
3. Contrast verification: Open Chrome DevTools on any page, Lighthouse > Accessibility audit, verify no color contrast issues
4. Focus states: Tab through navigation links and buttons, verify visible outline appears
5. Smooth scroll: Click anchor links (if any), verify smooth scroll behavior
6. Typography: View paragraphs on About page, verify text is crisp and readable on dark background
</verification>

<success_criteria>
- [ ] globals.css updated with complete gray palette (gray-300, 400, 500, 600 added)
- [ ] All text colors have verified WCAG AA 4.5:1+ contrast ratios documented in comments
- [ ] Focus-visible styles added for keyboard navigation accessibility
- [ ] Smooth scrolling enabled with prefers-reduced-motion support
- [ ] Font smoothing and text rendering optimizations applied
- [ ] Link transitions standardized at 200ms duration
- [ ] Chrome DevTools Accessibility audit shows no contrast errors
- [ ] TypeScript compilation and linting both pass
</success_criteria>

<output>
After completion, create `.planning/phases/05-design-and-animations/05-02-SUMMARY.md`
</output>
